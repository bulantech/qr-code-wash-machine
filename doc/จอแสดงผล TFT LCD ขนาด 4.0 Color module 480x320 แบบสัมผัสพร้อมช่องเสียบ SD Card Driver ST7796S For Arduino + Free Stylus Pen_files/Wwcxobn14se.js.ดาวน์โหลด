if (self.CavalryLogger) { CavalryLogger.start_js(["aLxqso6"]); }

__d("PopoverAsyncMenu",["Bootloader","Event","KeyStatus","PopoverMenu","VirtualCursorStatus","setImmediate"],(function(a,b,c,d,e,f){var g={},h=0;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,i,j){c=a.call(this,c,d,null,i)||this;c._endpoint=f;c._endpointData=j||{};c._loadingMenu=e;c._instanceId=h++;g[c._instanceId]=babelHelpers.assertThisInitialized(c);c._mouseoverListener=b("Event").listen(d,"mouseover",c.fetchMenu.bind(babelHelpers.assertThisInitialized(c)));return c}var d=c.prototype;d._onLayerInit=function(){var a=this;!this._menu&&this._loadingMenu&&this.setMenu(this._loadingMenu);this._popover.getLayer().subscribe("key",this._handleKeyEvent.bind(this));this._triggerInfo={isKeyDown:b("KeyStatus").isKeyDown(),isVirtualCursorTriggered:b("VirtualCursorStatus").isVirtualCursorTriggered()};b("setImmediate")(function(){return a.fetchMenu()})};d._onPopoverHide=function(){a.prototype._onPopoverHide.call(this),this._triggerInfo=null};d._refetchMenu=function(){this._menu&&(this._menu.destroy(),this._fetched=!1,this._mouseoverListener=b("Event").listen(this.getTriggerElem(),"mouseover",this.fetchMenu.bind(this)))};d.fetchMenu=function(){var a=this;if(this._fetched)return;b("Bootloader").loadModules(["AsyncRequest"],function(b){new b().setURI(a._endpoint).setData(Object.assign({pmid:a._instanceId},a._endpointData)).send()},"PopoverAsyncMenu");this._fetched=!0;this._mouseoverListener&&(this._mouseoverListener.remove(),this._mouseoverListener=null)};d._setFocus=function(a){var b=this._triggerInfo||{},c=b.isKeyDown;b=b.isVirtualCursorTriggered;this.setInitialFocus(a,c||b);this._triggerInfo=null};c.setMenu=function(a,b){a=g[a];a.setMenu(b);a._setFocus(b)};c.disableTypeaheadActivationForInstance=function(a){a=g[a];a._isTypeaheadActivationDisabled=!0};c.getInstance=function(a){return g[a]};c.getInstanceByTriggerElem=function(a){var b=null;Object.keys(g).forEach(function(c){g[c]._triggerElem==a&&(b=g[c])});return b};return c}(b("PopoverMenu"));e.exports=a}),null);
__d("PopoverLoadingMenu",["cx","BehaviorsMixin","DOM","PopoverMenuInterface","joinClasses"],(function(a,b,c,d,e,f,g){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this)||this;c._config=b||{};c._theme=b.theme||{};return c}var d=c.prototype;d.getRoot=function(){if(!this._root){var a;this._root=(a=b("DOM")).create("div",{className:b("joinClasses")("_54nq",this._config.className,this._theme.className)},a.create("div",{className:"_54ng"},a.create("div",{className:"_54nf _54af"},a.create("span",{className:"_54ag"}))));this._config.behaviors&&this.enableBehaviors(this._config.behaviors)}return this._root};return c}(b("PopoverMenuInterface"));Object.assign(a.prototype,b("BehaviorsMixin"),{_root:null});e.exports=a}),null);
__d("PopoverAsyncMenu.react",["cx","CSS","InlineBlock.react","MenuTheme","Popover","PopoverAsyncMenu","PopoverLoadingMenu","PopoverMenu.react","ReactDOM","URI","joinClasses","prop-types","react"],(function(a,b,c,d,e,f,g){var h,i,j=h||b("react");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.getPopoverMenu=function(){return d.$2},d.$3=function(){var a=b("ReactDOM").findDOMNode(d.refs.root);a=a.firstChild;return new(b("PopoverAsyncMenu"))(d.$1,a,d.props.loadingMenu,d.props.endpoint,d.props.behaviors,d.props.endpointData)},d.getMenu=function(){return d.$2.getMenu()},d.showPopover=function(a){d.$1.showLayer();if(a){var b=d.$2.getMenu();b.blur();b.focusAnItem(a)}},d.hidePopover=function(){var a=d.$1;a&&a.isShown()&&a.hideLayer()},d.getFocusedItem=function(){var a=d.$2.getMenu();return a.getFocusedItem()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;a=b("ReactDOM").findDOMNode(this.refs.root);var c=a.firstChild;b("CSS").addClass(c,"_p");this.$1=new(b("Popover"))(a,c,this.props.layerBehaviors,{alignh:this.props.alignh,position:this.props.position,disabled:this.props.disabled});this.props.onShow&&this.$1.subscribe("show",this.props.onShow);this.props.onHide&&this.$1.subscribe("hide",this.props.onHide);this.$2=this.$3()};d.componentDidUpdate=function(a){this.props.alignh!==a.alignh&&this.$2.getPopover().getLayer().setAlignment(this.props.alignh),this.props.disabled!==a.disabled&&(this.props.disabled?this.$2.disable():this.$2.enable()),this.props.endpoint.toString()!==a.endpoint.toString()&&(this.hidePopover(),this.$2=this.$3())};d.render=function(){var a=j.Children.map(this.props.children,function(a,c){if(c===0)return j.cloneElement(a,{className:b("joinClasses")(a.props.className,"_p")});else return a});return j.jsx(b("InlineBlock.react"),babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"uiPopover"),ref:"root",disabled:null,children:a}))};d.componentWillUnmount=function(){this.hidePopover()};return c}(j.Component);a.getButtonSize=b("PopoverMenu.react").getButtonSize;a.propTypes={alignh:b("prop-types").oneOf(["left","center","right"]),alignv:b("prop-types").oneOf(["baseline","bottom","middle","top"]),position:b("prop-types").oneOf(["above","below","left","right"]),layerBehaviors:b("prop-types").array,loadingMenu:b("prop-types").instanceOf(b("PopoverLoadingMenu")),disabled:b("prop-types").bool,endpoint:b("prop-types").oneOfType([b("prop-types").string.isRequired,b("prop-types").instanceOf(i||(i=b("URI"))).isRequired]),endpointData:b("prop-types").object,onShow:b("prop-types").func,onHide:b("prop-types").func};a.defaultProps={alignv:"middle",loadingMenu:new(b("PopoverLoadingMenu"))({theme:b("MenuTheme")})};e.exports=a}),null);
__d("RoundImage.react",["cx","Image.react","joinClasses","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){var a=c("joinClasses")(this.props.className,b.baseClassName);return i.jsx(c("Image.react"),babelHelpers["extends"]({},this.props,{className:a}))};return b}(i.Component);a.baseClassName="_2qgu";g["default"]=a}),98);
__d("ElementVisibilityTracking",["Event","SubscriptionsHandler","ViewportTrackingHelper","Visibility","throttle"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this;this.handleVisibilityChange=function(a){c("Visibility").isHidden()?b.config.onLeaveViewport():b.config.onEnterViewport()};this.config=a;this.subscriptions=new(c("SubscriptionsHandler"))();this.isVisible=this.$1();this.isVisible&&a.onEnterViewport()}var b=a.prototype;b.init=function(){var a=this,b=c("throttle")(function(b){a.handleResize(b)},this.config.resizeThrottlingInterval),d=c("throttle")(function(b){a.handleScroll(b)},this.config.scrollThrottlingInterval);this.subscriptions.addSubscriptions(c("Event").listen(window,"resize",b),c("Event").listen(window,"scroll",d),c("Visibility").addListener(c("Visibility").VISIBLE,this.handleVisibilityChange),c("Visibility").addListener(c("Visibility").HIDDEN,this.handleVisibilityChange))};b.removeListeners=function(){this.subscriptions.release()};b.handleResize=function(a){this.$2(a)};b.handleScroll=function(a){this.$2(a)};b.$1=function(){return d("ViewportTrackingHelper").isVisibleUnderBluebar(this.config.element,this.config.minVisibleHeight)};b.$2=function(a){a=this.$1();this.isVisible&&!a?this.config.onLeaveViewport():!this.isVisible&&a&&this.config.onEnterViewport();this.isVisible=a};return a}();g["default"]=a}),98);
__d("CommercialBreakCallToActionAttachment.react",["cx","TrackingNodes","XUIText.react","react"],(function(a,b,c,d,e,f,g,h){var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){if(!this.props.link||!this.props.linkCaption&&!this.props.linkTitle)return null;var a=c("TrackingNodes").getTrackingInfo(c("TrackingNodes").types.INSTREAM_CALL_TO_ACTION_ATTACHMENT);return i.jsxs("div",{className:"_1y4d","data-ft":a,children:[i.jsx(c("XUIText.react"),{className:"_1y4e",children:this.props.linkTitle}),i.jsx(c("XUIText.react"),{className:"_1y4g",style:{paddingTop:this.props.linkTitle?"12px":"0px",display:this.props.linkCaption?"inherit":"none"},children:this.props.linkCaption}),i.jsx("a",{className:"_275_",href:this.props.link,target:"_blank",onClick:this.props.onClick})]})};return b}(i.Component);g["default"]=a}),98);
__d("CommercialBreakCallToActionButton.react",["cx","SUIBusinessTheme","SUIButton.react","ServerHTML.react","TrackingNodes","react"],(function(a,b,c,d,e,f,g,h){var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){if(this.props.callToActionType==="NO_BUTTON")return null;var a=c("TrackingNodes").getTrackingInfo(c("TrackingNodes").types.INSTREAM_CALL_TO_ACTION_BUTTON);switch(this.props.buttonLocation){case"inline":return i.jsx("a",{onClick:this.props.onClick,href:this.props.link,"data-ft":a,target:"_blank",children:i.jsx(c("ServerHTML.react"),{blob:this.props.callToActionText,className:"_44mp"})});case"context_card":return i.jsx(c("SUIButton.react"),{label:i.jsx(c("ServerHTML.react"),{blob:this.props.callToActionText}),href:{url:this.props.link},target:"_blank","data-ft":a,theme:c("SUIBusinessTheme"),onClick:this.props.onClick});default:return null}};return b}(i.Component);g["default"]=a}),98);
__d("CommercialBreakContextCard.react",["cx","fbt","ix","AsyncRequest","CenteredContainer.react","CommercialBreakCallToActionAttachment.react","CommercialBreakCallToActionButton.react","CommercialBreakUtil","Image.react","LayerFadeOnHide","PopoverAsyncMenu.react","RoundImage.react","XBasicFBNuxDismissController","XBasicFBNuxViewController","XUIAmbientNUX.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIDialogTitle.react","XUIText.react","react"],(function(a,b,c,d,e,f,g,h,i,j){var k=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;b=a.call(this)||this;b.state={inforCardShown:!1,infoCardNuxShown:!1};b.$15=function(){if(b.props.infoCardNuxID){var a=c("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",b.props.infoCardNuxID).getURI();new(c("AsyncRequest"))().setURI(a).send()}b.setState({infoCardNuxShown:!1})};b.$1=null;b.$2=null;b.$3=!1;return b}var e=b.prototype;e.componentDidMount=function(){this.$2||(this.$2=this.props.hostVPC.addListener("commercialBreak/showUFI",this.$4.bind(this))),this.props.infoCardNuxID&&!this.state.infoCardNuxShown&&this.setState({infoCardNuxShown:!0})};e.componentWillUnmount=function(){this.$2&&this.$2.remove(),this.$2=null};e.render=function(){return k.jsxs("div",{className:"_36l3",children:[this.$5(),this.$6()]})};e.$5=function(){return this.props.callToAction&&this.props.config.isDREnabled&&this.props.config.sponsorLocation!=="context_card"?null:k.jsxs("div",{className:"_1y8j",children:[k.jsx("div",{className:"_1y8k",children:k.jsx("a",{href:this.props.profileLink,target:"_blank",onClick:this.$7.bind(this),children:k.jsx(c("Image.react"),{style:{display:"block"},height:"40",width:"40",src:this.props.profilePicURI})})}),k.jsx("div",{className:"_1y8n",children:k.jsxs("div",{className:"_1y8v",children:[k.jsx("div",{className:"_1y8w",children:k.jsx("a",{href:this.props.profileLink,target:"_blank",onClick:this.$7.bind(this),children:this.props.profileName})}),k.jsx("div",{className:"_1y8x",children:i._("\u0e44\u0e14\u0e49\u0e23\u0e31\u0e1a\u0e01\u0e32\u0e23\u0e2a\u0e19\u0e31\u0e1a\u0e2a\u0e19\u0e38\u0e19")})]})}),k.jsxs("div",{className:"_2n2q",children:[this.$8(),this.$9(),this.$10()]})]})};e.$9=function(){if(!this.props.hostVideoOwnerPageProfileName||!this.props.hostVideoOwnerPageProfileImageURI)return null;return this.props.hostVPC.getSource()==="tahoe"||this.props.config.isDREnabled&&this.props.callToAction&&this.props.config.ctaButtonLocation==="context_card"?null:k.jsxs("div",{className:"_1z7o",role:"presentation",onClick:this.$11.bind(this),ref:"infoButton",children:[this.$12(),this.$13(),k.jsx(c("Image.react"),{src:j("124739")})]})};e.$11=function(){this.setState({inforCardShown:!0,infoCardNuxShown:!1}),d("CommercialBreakUtil").logMarauderEvent(this.props.hostVPC,"commercial_break_context_card_info_button_click")};e.$7=function(){d("CommercialBreakUtil").logMarauderEvent(this.props.hostVPC,"commercial_break_click",{ad_break_click_source:"PROFILE"})};e.$14=function(){this.setState({inforCardShown:!1})};e.$12=function(){return k.jsxs(c("XUIDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},isStrictlyControlled:!0,shown:this.state.inforCardShown,onHide:this.$14.bind(this),width:400,children:[k.jsx(c("XUIDialogTitle.react"),{children:k.jsx(c("XUIText.react"),{weight:"bold",children:i._("\u0e17\u0e33\u0e44\u0e21\u0e04\u0e38\u0e13\u0e08\u0e36\u0e07\u0e40\u0e2b\u0e47\u0e19\u0e42\u0e06\u0e29\u0e13\u0e32\u0e43\u0e19\u0e27\u0e34\u0e14\u0e35\u0e42\u0e2d")})}),k.jsx(c("XUIDialogBody.react"),{children:k.jsxs(c("CenteredContainer.react"),{children:[k.jsx("div",{className:"_1z7p",children:k.jsx(c("RoundImage.react"),{src:this.props.hostVideoOwnerPageProfileImageURI,width:56,height:56})}),k.jsx("div",{className:"_1z7q",children:i._("{profile_name} \u0e2b\u0e22\u0e38\u0e14\u0e27\u0e34\u0e14\u0e35\u0e42\u0e2d\u0e02\u0e2d\u0e07\u0e1e\u0e27\u0e01\u0e40\u0e02\u0e32\u0e0a\u0e31\u0e48\u0e27\u0e04\u0e23\u0e32\u0e27\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e40\u0e25\u0e48\u0e19\u0e42\u0e06\u0e29\u0e13\u0e32\u0e43\u0e19\u0e2a\u0e15\u0e23\u0e35\u0e21 \u0e42\u0e06\u0e29\u0e13\u0e32\u0e43\u0e19\u0e2a\u0e15\u0e23\u0e35\u0e21\u0e04\u0e37\u0e2d\u0e27\u0e34\u0e18\u0e35\u0e2b\u0e19\u0e36\u0e48\u0e07\u0e17\u0e35\u0e48\u0e04\u0e23\u0e35\u0e40\u0e2d\u0e40\u0e15\u0e2d\u0e23\u0e4c\u0e27\u0e34\u0e14\u0e35\u0e42\u0e2d\u0e43\u0e0a\u0e49\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e23\u0e32\u0e22\u0e44\u0e14\u0e49\u0e1a\u0e19 Facebook",[i._param("profile_name",k.jsx("strong",{children:this.props.hostVideoOwnerPageProfileName}))])})]})}),k.jsx(c("XUIDialogFooter.react"),{children:k.jsx(c("XUIDialogOkayButton.react"),{use:"confirm",action:"cancel"})})]})};e.$13=function(){var a=this;if(!this.props.infoCardNuxID)return null;if(this.state.infoCardNuxShown&&!this.$3){var b=c("XBasicFBNuxViewController").getURIBuilder().setInt("nux_id",this.props.infoCardNuxID).getURI();new(c("AsyncRequest"))().setURI(b).send();this.$3=!0}return k.jsx(c("XUIAmbientNUX.react"),{contextRef:function(){return a.refs.infoButton},shown:this.state.infoCardNuxShown,position:"below",width:"auto",alignment:"right",onCloseButtonClick:this.$15,children:i._("\u0e40\u0e01\u0e35\u0e48\u0e22\u0e27\u0e01\u0e31\u0e1a\u0e42\u0e06\u0e29\u0e13\u0e32\u0e43\u0e19\u0e27\u0e34\u0e14\u0e35\u0e42\u0e2d")})};e.$10=function(){var a=this;if(!this.props.chevronButtonID||!this.props.instreamVideoOptionMenuURI)return null;return this.props.hostVPC.getSource()==="tahoe"||this.props.config.isDREnabled&&this.props.callToAction&&this.props.config.ctaButtonLocation==="context_card"?null:k.jsx("div",{className:"_1cx5",children:k.jsx(c("PopoverAsyncMenu.react"),{alignh:"center",alignv:"bottom",position:"above",endpoint:this.props.instreamVideoOptionMenuURI,id:this.props.chevronButtonID,layerBehaviors:[],ref:function(b){a.$1=b},children:k.jsx(c("Image.react"),{src:j("123796")})})})};e.$8=function(){var a=this.props.callToAction;return!this.props.config.isDREnabled||!a||this.props.config.ctaButtonLocation!=="context_card"?null:k.jsx("div",{className:"_11_p",children:k.jsx(c("CommercialBreakCallToActionButton.react"),{buttonLocation:this.props.config.ctaButtonLocation,callToActionType:a.ctaType,callToActionText:a.ctaFbt,link:a.link,onClick:this.$16.bind(this)})})};e.$16=function(){d("CommercialBreakUtil").logMarauderEvent(this.props.hostVPC,"commercial_break_click",{ad_break_click_source:"CALL_TO_ACTION_BUTTON"}),this.props.hostVPC.emit("commercialBreak/CTAClicked")};e.$6=function(){var a=this.props.callToAction;return!this.props.config.isDREnabled||!a?null:k.jsx(c("CommercialBreakCallToActionAttachment.react"),{link:a.link,linkTitle:a.linkTitle,linkCaption:a.linkCaption,onClick:this.$17.bind(this)})};e.$17=function(){d("CommercialBreakUtil").logMarauderEvent(this.props.hostVPC,"commercial_break_click",{ad_break_click_source:"SPONSOR_CONTEXT_CARD"}),this.props.hostVPC.emit("commercialBreak/CTAClicked")};e.$4=function(){this.$1&&this.$1.hidePopover()};return b}(k.Component);g["default"]=a}),98);
__d("InstreamPlacement",[],(function(a,b,c,d,e,f){a=Object.freeze({PRE_ROLL:"pre_roll",MID_ROLL:"mid_roll",POST_ROLL:"post_roll",NON_INTERRUPTIVE:"non_interruptive",DOWNSTREAM:"downstream"});f["default"]=a}),66);
__d("VideoInstreamRealtimeWatchTimeCounter",[],(function(a,b,c,d,e,f){var g=0;a=function(){function a(a){a=a.videoPlayerController;this.$1=0;this.$2=a;this.$3()}var b=a.prototype;b.$3=function(){this.$2.addListener("beginPlayback",this.$4.bind(this)),this.$2.addListener("pausePlayback",this.$5.bind(this))};b.$4=function(){this.$1===0&&(this.$1=Date.now())};b.$5=function(){this.$1>0&&(g+=Date.now()-this.$1),this.$1=0};a.resetWatchTimeMs=function(){g=0};return a}();f["default"]=a}),66);
__d("InstreamVideoAdsController",["CommercialBreakShouldLogMarauderEvent","DOMQuery","DataAttributeUtils","DateConsts","FBLogger","MarauderLogger","NonBlockingIFrame","ODS","URI","VideoInstreamRealtimeWatchTimeCounter","ViewableImpressionConfig"],(function(a,b,c,d,e,f,g){var h=null,i=new Set();a=function(){function a(){this.$1=new Map()}var b=a.prototype;b.$2=function(a){var b=[];this.$1.forEach(function(c,e){!e.isState("destroyed")&&d("DOMQuery").contains(a,e.getRootNode())&&b.push(e)});return b.length===0?null:b[0]};b.$3=function(a,b){if(this.$1.has(a))return;this.$1.set(a,b)};a.registerVideoController=function(b,e){h===null&&(h=new a());h.$3(b,e);d("MarauderLogger").log("commercial_break_register_video","commercial_break",{commercial_break_ad_client_token:b.getAdClientToken()});var f=h;b.once("beginPlayback",function(){f.$4(b),c("VideoInstreamRealtimeWatchTimeCounter").resetWatchTimeMs()})};b.$4=function(a){var b=this.$1.get(a);if(d("DOMQuery").contains(b,a.getRootNode())){a=c("DataAttributeUtils").getDataAttribute(b,"data-xt");b=Math.floor(Date.now()/d("DateConsts").MS_PER_SEC);a={xt:a,isv:1,cts:b};try{d("NonBlockingIFrame").loadIFrame(new(c("URI"))(c("ViewableImpressionConfig").impressionURL).addQueryData(a).toString())}catch(a){c("FBLogger")("instream_ads").catching(a).warn("Failed to log instream ads impression on web");d("ODS").bumpEntityKey(2966,"instreamads","impression_logging_exception");return}d("ODS").bumpEntityKey(2966,"instreamads","impression_logging_succeed")}};a.logNonInterruptiveUIEvent=function(a,b,e){e===void 0&&(e={});if(!(Object.prototype.hasOwnProperty.call(c("CommercialBreakShouldLogMarauderEvent"),a)&&c("CommercialBreakShouldLogMarauderEvent")[a]))return;d("MarauderLogger").log(a,"commercial_break",babelHelpers["extends"]({xt:b.xt,instream_placement:b.instreamPlacement,ad_break_index:b.instreamVideoAdBreakIndex,commercial_break_ad_client_token:b.instreamVideoAdBreakClientToken},e))};a.logNonInterruptiveAdImpression=function(a){a=a.xt;if(i.has(a))return;var b=Math.floor(Date.now()/d("DateConsts").MS_PER_SEC);b={xt:a,isv:1,cts:b};d("NonBlockingIFrame").loadIFrame(new(c("URI"))(c("ViewableImpressionConfig").impressionURL).addQueryData(b).toString());i.add(a)};a.findVideoControllerForStory=function(a){return h===null?null:h.$2(a)};return a}();g["default"]=a}),98);
__d("NonInterruptiveAdHeader.react",["cx","ix","FDSText.react","Image.react","PopoverAsyncMenu.react","gkx","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function k(a){return j.jsxs("div",{className:"_6yiz",children:[j.jsx(c("FDSText.react"),{size:"header4",weight:"bold",children:"Ads in this video"}),j.jsx(m,babelHelpers["extends"]({},a))]})}k.displayName=k.name+" [from "+f.id+"]";function l(a){var b=a.nonInterruptiveAd;return j.jsxs("div",{className:"_6yiz",onClick:a.onClick,children:[j.jsx("div",{className:"_6yi_",children:j.jsx("a",{href:b.profileLink,target:"_blank",children:j.jsx(c("Image.react"),{style:{display:"block",borderRadius:"50%"},height:"40",width:"40",src:b.profilePicURI})})}),j.jsxs("div",{className:"_6yj0",children:[j.jsx("div",{className:"_6_uo",children:j.jsx(c("FDSText.react"),{size:"header4",weight:"bold",children:j.jsx("a",{href:b.profileLink,target:"_blank",children:b.profileName})})}),j.jsx("div",{children:j.jsx(c("FDSText.react"),{size:"body3",color:"placeholder",children:"Sponsored"})})]}),j.jsx(m,babelHelpers["extends"]({},a))]})}l.displayName=l.name+" [from "+f.id+"]";function m(a){return j.jsxs("div",{className:"_6yj4",children:[a.isCollapsed||a.instreamVideoOptionMenuURI===null?null:c("gkx")("1007029")?j.jsx("div",{className:"_6yj5",children:j.jsx(c("PopoverAsyncMenu.react"),{alignh:"center",alignv:"bottom",position:"above",endpoint:a.instreamVideoOptionMenuURI,id:a.chevronButtonID,layerBehaviors:[],children:j.jsx(c("Image.react"),{src:i("516422")})})}):j.jsx("div",{className:"_6yj5",children:j.jsx(c("Image.react"),{src:i("516422")})}),j.jsx("div",{className:"_6yj6",onClick:a.onChevronButtonClicked,role:"presentation",children:j.jsx(c("Image.react"),{src:a.isCollapsed?i("687232"):i("687239")})})]})}m.displayName=m.name+" [from "+f.id+"]";function a(a){return a.isCollapsed?j.jsx(k,babelHelpers["extends"]({},a)):j.jsx(l,babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoWithNonInterruptiveAd.react",["cx","ElementVisibilityTracking","FDSText.react","Image.react","InstreamVideoAdsController","LineClamp.react","NonInterruptiveAdHeader.react","ServerHTML.react","SubscriptionsHandler","react","setTimeout"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=1e3;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var d;d=a.call(this,b)||this;d.$3=i.createRef();d.$4=i.createRef();d.state={isCollapsed:!1,entranceAnimationTriggered:!1,shouldShowAd:!1,isViewable:!1,nonInterruptiveAd:null,adHeight:null,containerHeight:null,shouldUnhide:!1};d.$2=new(c("SubscriptionsHandler"))();d.$2.addSubscriptions(d.props.videoWithCommercialBreak.addListener("nonInterruptiveAd/showNonInterruptiveAd",function(a){var b=d.props.videoWithCommercialBreak.getNonInterruptiveStatus();d.setState({isCollapsed:b.isEnable==!0?b.isNICollapse:!1,shouldShowAd:!0,nonInterruptiveAd:a})}),d.props.videoWithCommercialBreak.addListener("nonInterruptiveAd/hideNonInterruptiveAd",function(){d.setState({shouldShowAd:!1,entranceAnimationTriggered:!1,adHeight:null,containerHeight:null})}),d.props.videoWithCommercialBreak.addListener("nonInterruptiveAd/unhide",function(){d.setState({shouldUnhide:!0})}));return d}var d=b.prototype;d.componentDidUpdate=function(){var a=this,b=this.$3.current,d=this.$4.current;(this.state.adHeight==null&&this.state.containerHeight==null&&this.state.nonInterruptiveAd!=null&&this.state.shouldShowAd&&!this.props.videoWithCommercialBreak.getIsNIPreloadedAndHide()||this.state.shouldUnhide==!0)&&b&&d&&this.setState({adHeight:b.clientHeight,containerHeight:d.clientHeight,shouldUnhide:!1},function(){c("setTimeout")(function(){a.setState({entranceAnimationTriggered:!0},function(){a.$1=new(c("ElementVisibilityTracking"))({minVisibleHeight:1,resizeThrottlingInterval:j,scrollThrottlingInterval:j,element:d,onEnterViewport:a.$5.bind(a),onLeaveViewport:a.$6.bind(a)}),a.$1.init()})},0)})};d.componentWillUnmount=function(){this.props.videoWithCommercialBreak.updateNIStatus({NISourceState:null}),this.$1&&this.$1.removeListeners(),this.$2.release()};d.$7=function(){if(this.state.containerHeight==null)return"initial";else if(this.state.entranceAnimationTriggered)return this.state.containerHeight+"px";else return"0"};d.$8=function(){if(this.state.isCollapsed)return"0";else if(this.state.adHeight==null)return"initial";else return this.state.adHeight+"px"};d.$9=function(){var a=this,b=this.state.nonInterruptiveAd;if(!b)return null;var d=b.ctaButton,e=b.ctaAttachment;return i.jsx("div",{className:"_6-gf",style:{height:this.$8()},children:i.jsxs("div",{className:"_6yj7",ref:this.$3,children:[e!=null?i.jsx("div",{children:i.jsx(c("ServerHTML.react"),{blob:e,onClick:function(b){a.$10("LINK_CONTEXT_CARD")}})}):null,i.jsx("div",{className:"_6yj8",children:i.jsx(c("Image.react"),{src:b.imageURL,height:"102",width:"auto",style:{borderRadius:"4px"}})}),i.jsxs("div",{className:"_6yj9",children:[i.jsx("div",{className:"_6yja",children:i.jsx(c("FDSText.react"),{size:"header4",weight:"bold",children:i.jsx(c("LineClamp.react"),{lines:1,children:b.callToActionLinkTitle})})}),i.jsx("div",{className:"_6yjb",children:i.jsx(c("FDSText.react"),{size:"body1",color:"secondary",children:i.jsx(c("LineClamp.react"),{lines:2,children:b.message})})}),d!=null?i.jsx("div",{children:i.jsx(c("ServerHTML.react"),{blob:d,onClick:function(b){a.$10("CALL_TO_ACTION_BUTTON")}})}):null]})]})})};d.render=function(){var a=this;return!this.state.shouldShowAd?null:i.jsx("div",{className:"_6y6q",ref:this.$4,style:{height:this.$7()},children:this.state.nonInterruptiveAd?i.jsxs("div",{children:[i.jsx(c("NonInterruptiveAdHeader.react"),{isCollapsed:this.state.isCollapsed,nonInterruptiveAd:this.state.nonInterruptiveAd,onChevronButtonClicked:this.$11.bind(this),chevronButtonID:this.props.videoWithCommercialBreak.getChevronButtonID(),instreamVideoOptionMenuURI:this.props.videoWithCommercialBreak.getInstreamVideoOptionMenuURI(),onClick:function(){a.$10("PROFILE")}}),this.$9(),i.jsx("div",{className:"_89nq _89nr"})]}):null})};d.$11=function(a){var b=this,d=this.state.nonInterruptiveAd;if(!d)return;a.stopPropagation();this.setState(function(a){var e=a.adHeight;e===0&&b.$3.current&&(e=b.$3.current.clientHeight);a.isCollapsed?c("InstreamVideoAdsController").logNonInterruptiveUIEvent("commercial_break_non_interruptive_expanded",d):c("InstreamVideoAdsController").logNonInterruptiveUIEvent("commercial_break_non_interruptive_collapsed",d);b.props.videoWithCommercialBreak.updateNIStatus({isNICollapse:!a.isCollapsed});return{isCollapsed:!a.isCollapsed,containerHeight:null,adHeight:e}})};d.$10=function(a){var b=this.state.nonInterruptiveAd;if(!b)return;c("InstreamVideoAdsController").logNonInterruptiveUIEvent("commercial_break_click",b,{ad_break_click_source:a})};d.$5=function(){var a=this.state.nonInterruptiveAd;if(!a)return;c("InstreamVideoAdsController").logNonInterruptiveUIEvent("commercial_break_non_interruptive_shown",a);c("InstreamVideoAdsController").logNonInterruptiveAdImpression(a);this.setState({isViewable:!0})};d.$6=function(){var a=this.state.nonInterruptiveAd;if(!a)return;c("InstreamVideoAdsController").logNonInterruptiveUIEvent("commercial_break_non_interruptive_hidden",a);this.setState({isViewable:!1})};return b}(i.Component);g["default"]=a}),98);
__d("CommercialBreakUtil",["csx","CommercialBreakContextCard.react","CommercialBreakExperiments","DOM","DataStore","InstreamPlacement","ReactDOM","VideoPlayerFormatsMap","VideoWithNonInterruptiveAd.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a,b){if(b===null)return;var e=a.getOption("VideoWithInstreamVideo","controller"),f=a.getOption("VideoWithCommercialBreak","controller"),g=e&&e.getAdController();e=e&&e.getConfig();if(e&&!e.isLive&&g){var h=JSON.parse(d("DataStore").get(g.getRootNode(),"store"));if(h&&Object.prototype.hasOwnProperty.call(h,"profileName")&&Object.prototype.hasOwnProperty.call(h,"profilePicURI")&&Object.prototype.hasOwnProperty.call(h,"profileLink")){var j=null,k=f&&f.getContextCardTrackingWrapper();if(k){k=c("DOM").setContent(b,k);k.length!=0&&(j=k[0])}k=f&&f.getCallToAction();var l=k&&k.adVideoID&&k.adVideoID.toString();g.getVideoID()!==l&&(k=null);g=null;l=null;var m=null,n=null,o=null;c("CommercialBreakExperiments").instreamAdsNFXOnContextCard&&(g=f&&f.getChevronButtonID(),l=f&&f.getInstreamVideoOptionMenuURI());c("CommercialBreakExperiments").instreamAdsInfoCard&&(m=e&&e.hostVideoOwnerPageProfileName,n=e&&e.hostVideoOwnerPageProfileImageURI,o=f&&f.getInfoCardNuxID());d("ReactDOM").render(i.jsx(c("CommercialBreakContextCard.react"),{callToAction:k,config:e,hostVPC:a,profileName:h.profileName,profilePicURI:h.profilePicURI,profileLink:h.profileLink,chevronButtonID:g,instreamVideoOptionMenuURI:l,hostVideoOwnerPageProfileName:m,hostVideoOwnerPageProfileImageURI:n,infoCardNuxID:o}),j?j:b)}}}function b(a){if(!a)return;var b=c("DOM").find(a,"._36l3");b&&d("ReactDOM").unmountComponentAtNode(b.parentNode);c("DOM").remove(a)}function e(a,b,e){var f=null;if(e){e=c("DOM").setContent(b,e);e.length!==0&&(f=e[0],a.setNonInterruptiveAdTrackingWrapper(f))}d("ReactDOM").render(i.jsx(c("VideoWithNonInterruptiveAd.react"),{videoWithCommercialBreak:a}),f||b)}function f(a,b){if(!a)return;b&&d("ReactDOM").unmountComponentAtNode(b);c("DOM").remove(a)}function h(a,b,c){c===void 0&&(c={});a=a.getOption("VideoWithInstreamVideo","controller");a&&a.logMarauderEvent(b,c)}function j(a){if(a.isFullscreen())return"full_screen";a=a.getSource();return a?c("VideoPlayerFormatsMap")[a]:"inline"}function k(a){return a.getPlayerSuborigin()||a.getSource()}function l(a){if(a===null||a===void 0)return c("InstreamPlacement").MID_ROLL;switch(a.toLowerCase()){case c("InstreamPlacement").PRE_ROLL:return c("InstreamPlacement").PRE_ROLL;case c("InstreamPlacement").MID_ROLL:return c("InstreamPlacement").MID_ROLL;case c("InstreamPlacement").POST_ROLL:return c("InstreamPlacement").POST_ROLL;case c("InstreamPlacement").NON_INTERRUPTIVE:return c("InstreamPlacement").NON_INTERRUPTIVE;default:return c("InstreamPlacement").MID_ROLL}}function m(){return new Set([3,263])}g.renderContextCard=a;g.removeContextCard=b;g.renderNonInterruptiveAd=e;g.removeNonInterruptiveAd=f;g.logMarauderEvent=h;g.getVideoPlayerFormat=j;g.getVideoPlayerSubOrigin=k;g.coerceInstreamPlacementEnum=l;g.getNonInterruptiveStoryTypeConfig=m}),98);
__d("CommercialBreakHostStoryComponentType",[],(function(a,b,c,d,e,f){a=Object.freeze({POP_OVER_MENU:"POP_OVER_MENU",HOST_STORY_HEADER:"HOST_STORY_HEADER"});f["default"]=a}),66);
__d("StoryComponentVideoPlayerControllerRegistry",["CommercialBreakHostStoryComponentType","DOMQuery","EventEmitter"],(function(a,b,c,d,e,f,g){"use strict";var h=new(c("EventEmitter"))(),i=new Map(),j=new Map(),k=new Map();function l(a){a=a;var b=[];while(a)b.unshift(a),a=a.parentElement;return b}function m(a,b){if(a===null)return null;var c=l(a);a=null;var d=null;b.forEach(function(b){var e=b[0];b=b[1];e=l(e);for(var f=0;f<c.length;++f)if(c[f]!==e[f]){(d===null||f>d)&&(d=f,a=b);break}});return a}function a(a,b){var d=a.getVideoID(),e=i.get(d);e?e.push(a):(e=[a],i.set(d,e));d=null;b===c("CommercialBreakHostStoryComponentType").POP_OVER_MENU?d=this.findPopoverAsyncMenuForVideoPlayerController(a):b===c("CommercialBreakHostStoryComponentType").HOST_STORY_HEADER&&(d=this.findHostStoryControllerForVideoPlayerController(a));if(!d)return;h.emit(d.getInstanceID()+"/register",a)}function b(a,b,c){var d=k.get(b);d?d.push(a):(d=[a],k.set(b,d));this.findVideoControllerForStoryController(a,b,c)}function e(a,b){var c=b.host_video_id;if(!c)return;a=new r(a,b);b=a.getInstanceID();var d=j.get(c);d||(d=[],j.set(c,d));d.push(a);this._informStoryComponentRegister(a.getTriggerElem(),b,c,a.registerVideoPlayerController.bind(a))}function f(a,b,c,d){h.addListener(b+"/register",d);d=this.findVideoPlayerControllerForElement(a,c);if(!d)return;h.emit(b+"/register",d)}function n(a,b){b=i.get(b);return!b?null:m(a,b.filter(function(a){return!a.isState("destroyed")&&!a.isState("fallback")}).map(function(a){return[a.getRootNode(),a]}))}function o(a){var b=j.get(a.getVideoID());return!b?null:m(a.getRootNode(),b.map(function(a){return[a.getTriggerElem(),a]}))}function p(a){var b=k.get(a.getVideoID());if(!b)return null;for(var c=0;c<b.length;c++){var e=b[c];if(d("DOMQuery").contains(e.getContainerElement(),a.getRootNode()))return e}return null}function q(a,b,c){h.addListener(a.getInstanceID()+"/register",c);c=i.get(b);if(!c)return;c=c.filter(function(a){return!a.isState("destroyed")&&!a.isState("fallback")});for(var b=0;b<c.length;b++){var e=c[b];if(d("DOMQuery").contains(a.getContainerElement(),e.getRootNode())){h.emit(a.getInstanceID()+"/register",e);return}}}var r=function(){function a(a,b){this._menu=a,this._originalEndpoint=this._menu._endpoint,this._additionalData=b}var b=a.prototype;b.registerVideoPlayerController=function(a){var b=this;a.addListener("commercialBreak/updateOptionMenuURI",function(a){b._updateEndpoint(a)});a.addListener("commercialBreak/recoverOptionMenuURI",function(){return b._updateEndpoint(b._originalEndpoint)})};b._updateEndpoint=function(a){var b=this._menu;b.setMenu(b._loadingMenu);b._setFocus(b._loadingMenu);b._endpoint=a;b._fetched&&(b._fetched=!1,b.fetchMenu())};b.getInstanceID=function(){return this._menu._instanceId.toString()};b.getTriggerElem=function(){return this._menu.getTriggerElem()};b.getOptionsButtonID=function(){return this._additionalData.options_button_id||""};return a}();g.registerVideoPlayerController=a;g.registerHostStoryController=b;g.registerPopoverAsyncMenu=e;g._informStoryComponentRegister=f;g.findVideoPlayerControllerForElement=n;g.findPopoverAsyncMenuForVideoPlayerController=o;g.findHostStoryControllerForVideoPlayerController=p;g.findVideoControllerForStoryController=q}),98);
__d("CommercialBreakHostStoryController",["csx","cx","Arbiter","CSS","CommercialBreakUtil","DOM","DOMQuery","StoryComponentVideoPlayerControllerRegistry","ge"],(function(a,b,c,d,e,f,g,h,i){a=function(){function a(a,b,c,e,f){this.$1=null;this.$6=null;this.$7=null;this.$8=null;this.$2=c;this.$17=f;this.$4=a;this.$3=b;this.$11=null;e&&(this.$16=e.toString());c=d("DOMQuery").scry(b,".uiLikePageButton");c.length!==0&&(this.$1=c[0]);f=d("DOMQuery").scry(b,"._2ezg");f.length!=0&&(this.$6=f[0]);a=d("DOMQuery").scry(b,"._5pcm");a.length!=0&&(this.$7=a[0]);e=d("DOMQuery").scry(b,"._5pbz");if(e.length!=0){c=e[0];this.$8=d("DOMQuery").scry(c,"._1dwg")}f=d("DOMQuery").scry(b,"._nqx");f.length>0&&(this.$9=f[0]);d("StoryComponentVideoPlayerControllerRegistry").registerHostStoryController(this,this.$16,this.$18.bind(this))}var b=a.prototype;b.getContainerElement=function(){return this.$3};b.getInstanceID=function(){return this.$2};b.$18=function(a){var b=this;this.$12=a;this.$5=this.$12.getRootNode();c("Arbiter").subscribe("VideoChannelView/closed",this.$19.bind(this));c("Arbiter").subscribe("RHCVideoWNSController/closeEnd",this.$20.bind(this));this.$12.addListener("commercialBreak/hideUFI",this.$21.bind(this));this.$12.addListener("commercialBreak/showUFI",function(){b.$10&&(d("CommercialBreakUtil").removeContextCard(b.$10),b.$10=null)});this.$12.addListener("TahoeController/exitTahoe",this.$22.bind(this));this.$15=a.addListener("optionsChange",function(){return b.$23()});this.$23()};b.$23=function(){var a=this;this.$14=this.$12.getOption("VideoWithCommercialBreak","controller");this.$13=this.$12.getOption("VideoWithInstreamVideo","controller");this.$14&&(this.$15.remove(),this.$14.setStoryIdentifier(this.$17),this.$14.addListener("commercialBreak/stateChange",function(b){return a.$24(b.state)}))};b.$24=function(a){a==="PLAY_AD"&&!d("CommercialBreakUtil").getNonInterruptiveStoryTypeConfig().has(this.$14.getReceivedAdStoryType())?this.$25():this.$26()};b.$19=function(){this.$27()};b.$22=function(){this.$27()};b.$20=function(){this.$27()};b.$27=function(){this.$14&&this.$14.getIsVideoAdCommercialBreakOnGoing()&&this.$21()};b.$21=function(){if(!this.$28())return;var a=this.$5&&this.$5.parentNode;if(a){a=c("DOM").scry(a,"._16bp");if(a.length!=0)return}this.$10=c("DOM").create("div",{className:"_16bp"});c("DOM").insertAfter(this.$5,this.$10);d("CommercialBreakUtil").renderContextCard(this.$12,this.$10)};b.$28=function(){return this.$29()||this.$30()};b.$30=function(){return this.$12?this.$12.getSource()==="permalink":!1};b.$29=function(){return this.$12?this.$12.getSource()==="inline":!1};b.$25=function(){this.$1&&d("CSS").addClass(this.$1,"_3fcl");this.$6&&d("CSS").addClass(this.$6,"_3fcl");this.$7&&d("CSS").addClass(this.$7,"_3fcl");this.$8&&this.$8.map(function(a){d("CSS").addClass(a,"_3fcl")});this.$9&&d("CSS").addClass(this.$9,"_gtd");var a=d("StoryComponentVideoPlayerControllerRegistry").findPopoverAsyncMenuForVideoPlayerController(this.$12);if(a){a=a.getOptionsButtonID();this.$11=c("ge")(a)}this.$11&&d("CSS").addClass(this.$11,"_3fcl")};b.$26=function(){this.$1&&d("CSS").removeClass(this.$1,"_3fcl"),this.$6&&d("CSS").removeClass(this.$6,"_3fcl"),this.$7&&d("CSS").removeClass(this.$7,"_3fcl"),this.$8&&this.$8.map(function(a){d("CSS").removeClass(a,"_3fcl")}),this.$9&&d("CSS").removeClass(this.$9,"_gtd"),this.$11&&d("CSS").removeClass(this.$11,"_3fcl"),this.$11=null};return a}();g["default"]=a}),98);